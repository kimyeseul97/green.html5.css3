<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>mung</title>
<link rel="stylesheet" href="../../css/common.css">
<link rel="stylesheet" href="../../css/list.css">
<link rel="stylesheet" href="../../library/fontawesome-free-5.15.3-web/css/all.min.css">
</head>

<body>
	<header>
		<!-- 메뉴바 -->
		<div class="gnb">
            <div class="logo">
                <a href="../../index.html"><h2><i class="fas fa-paw"></i> mung <i class="fas fa-paw"></i></h2></a>
            </div>
			<!-- pc메뉴 -->
			<div class="nav_right">
				<a href="#"><i class="fas fa-bars"></i></a>
			</div>
				<ul class="nav_box">
					<li class="exit">
					<a href="#"><i class="far fa-times-circle" style="color: rgb(0, 7, 110); padding-left: 10px;"></i></a>
					</li>
						<li><a href="./pages/login/join.html">hOME</a></li>
						<li><a href="./pages/login/login.html">멍INFO</a></li>
						<li><a href="./pages/login/login.html">멍REVIEW</a></li>
						<li><a href="./pages/login/login.html">멍TALK</a></li>
				</ul>
				<ul class="nav">
					<li><a href="../login/join.html">JOIN</a></li>
					<li><a href="../login/login.html">LOGIN</a></li>
				</ul>
        </div>

        <div id="container">
            <h2>글상세보기</h2>
        </div>
    
		
<!-- 리스트 게시판 시작-->
<table class="table table-bordered">
	<tbody>
		<div>
			<form>
				제목 :  </br>
				작성자 :  <br/>
				작성시간 : <br/><br/>
				=============================================<br/>
	 
			</form>
		</div>
	 
		<div>
			<button type=button title="수정" >수정</button>
			<button type=button title="삭제" >삭제</button>
			<input type=button value="목록"/>
		</div>
	</tbody>
</table>

		<footer class="footer">
            <p>© 2021 Mung by kimyeseul</p>
        </footer>

	<!--js 파일-->
	<script src="../../js/jquery-3.6.0.min.js"></script>
    <script src="../../js/common.js"></script>
	
	<script src="js/jquery-3.6.0.min.js"></script>
    <script>

	const testId = $("#testId").val();
	$(document).on('click', '#btn_modify', function(e) {
		if (confirm("정말 수정하시겠습니까 ?") == true) {
			
			//데이터를 담아내는 부분
			const testTitle = $("#testTitle").val().trim();
			const testContent = $("#testContent").val().trim();

			if(testTitle === ''){
				alert('제목을 입력해주세요.');
				return;
			}
			
			if(testContent === ''){
				alert('내용을 입력해주세요.');
				return;
			}

			var formData = new FormData();
			formData.append("testId",testId);
			formData.append("testTitle",testTitle);
			formData.append("testContent",testContent);

			$.ajax({
                type: "get",
                url: "http://localhost:3000/list",
                dataType: "json",
                data: queryString,
                success:function(data) {
                    //정상 요청, 응답 시 처리 작업
                    console.log(JSON.stringify(data));
                },
                error:function(request,status,error) {
                    console.log("code:"+request.status+"\n"+"message:"+request.responseText+"\n"+"error:"+error);
                },
                complete:function to_ajax() {
                    location.href = "list.html"
                    //작업 완료 후 처리
                }

			})			
		} 
	});

	// 삭제부분
	$(document).on('click', '#btn_delete', function(e) {
		if (confirm("정말 삭제하시겠습니까 ?")) {
			$.ajax({
				url : "http://localhost:3000/delete",
				type : "POST",
				data : {
					testId : testId
				},
				success : function(res){
					alert('삭제 완료');
					location.href='list.html';
				}
			})
		}
	});
		

    </script>

</body>
</html>

